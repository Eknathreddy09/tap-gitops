---
tap_install:
  values:
    ceip_policy_disclosed: true
    excluded_packages:
    - policy.apps.tanzu.vmware.com
    - workshops.learningcenter.tanzu.vmware.com
    supply_chain: testing_scanning
    ootb_supply_chain_testing_scanning:
      service_account: default
      registry:
        server: "exploreindiatapsolreg.azurecr.io"
        repository: "tap150/build-service"
      gitops:
          server_address: https://github.com
          repository_owner: explore-india-booth
          repository_name: spring-tap-petclinic
          ssh_secret: "git-secret"
          branch: "accelerator"
          commit_strategy: pull_request
          pull_request:
            server_kind: github
            commit_branch: ""
            pull_request_title: "Ready for review"
            pull_request_body: "Generated by TAP supply chain"
    appliveview:
      ingressEnabled: "true"
      ingressDomain: "demo.vmwareexploreindia.com"
      tls: 
         namespace: app-live-view
         secretName: appliveview-cert
    appliveview_connector:
      backend:
        sslDisabled: "true"
    accelerator:
       ingress:
          include: true
          enable_tls: false
       tls:
         namespace: accelerator-system
         secret_name: tls
    tap_gui:
       service_type: ClusterIP
       ingressEnabled: "true"
       ingressDomain: "demo.vmwareexploreindia.com"
       tls:
          namespace: tap-gui
          secretName: tap-gui-secret
       app_config:
         proxy:
           /metadata-store:
              target: https://metadata-store-app.metadata-store:8443/api/v1
              changeOrigin: true
              secure: false
              headers:
                Authorization: "Bearer Token"
                X-Custom-Source: project-star
         app:
           baseUrl: https://tap-gui.demo.vmwareexploreindia.com
         catalog:
           locations:
           - type: url
             target: https://github.com/Eknathreddy09/tanzu-java-web-app/blob/main/catalog/catalog-info.yaml
           - type: url
             target: https://github.com/explore-india-booth/spring-tap-petclinic/blob/accelerator/catalog/catalog-info.yaml
         backend:
           baseUrl: https://tap-gui.demo.vmwareexploreindia.com
           cors:
              origin: https://tap-gui.demo.vmwareexploreindia.com
         integrations:
           github:
           - token: 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
    metadata_store:
       ns_for_export_app_cert: "*"
       app_service_type: ClusterIP
       # ingress_enabled: "true"
       #  ingress_domain: "demo.vmwareexploreindia.com"
       #  tls:
       #     secretName: tap-gui-secret
       #     namespace: tap-gui
    scanning:
      metadataStore:
      url: "" # Disable embedded integration since it's deprecated
    grype:
      namespace: "tap-workload" # (optional) Defaults to default namespace.
      targetImagePullSecret: "registry-credentials"
    contour:
       envoy:
         service:
           type: LoadBalancer
    cnrs:
      default_tls_secret: "tap-workload/ca-cert"
      domain_name: demo.vmwareexploreindia.com
      domain_template: "{{.Name}}.{{.Namespace}}.{{.Domain}}"
